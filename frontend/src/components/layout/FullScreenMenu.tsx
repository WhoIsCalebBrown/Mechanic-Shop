import { useEffect, useState, useRef } from 'react';
import { useNavigationWithLoading } from '../../UseNavigationWithLoading.tsx';
import './FullScreenMenu.css';

interface FullScreenMenuProps {
  isOpen: boolean;
  onClose: () => void;
}

export default function FullScreenMenu({ isOpen, onClose }: FullScreenMenuProps) {
  const { navigateWithLoading } = useNavigationWithLoading();
  const [imageOffset, setImageOffset] = useState({ leftY: 0, rightY: 0 });
  const targetOffsetRef = useRef({ leftY: 0, rightY: 0 });
  const animationFrameRef = useRef<number | undefined>(undefined);
  const [topoOffset, setTopoOffset] = useState({ x: 0, y: 0 });
  const topoTargetRef = useRef({ x: 0, y: 0 });
  const topoAnimationRef = useRef<number | undefined>(undefined);
  const [ripples, setRipples] = useState<Array<{ id: number; x: number; y: number }>>([]);
  const svgRef = useRef<SVGSVGElement>(null);
  const activePathsRef = useRef<Set<SVGPathElement>>(new Set());

  const navLinks = [
    { path: '/', label: 'Dashboard' },
    { path: '/customers', label: 'Customers' },
    { path: '/vehicles', label: 'Vehicles' },
    { path: '/appointments', label: 'Appointments' },
    { path: '/service-records', label: 'Service Records' },
  ];

  // Placeholder images - you can replace with your own
  const images = [
    'https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=800',
    'https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800',
    'https://images.unsplash.com/photo-1525609004556-c46c7d6cf023?w=800',
    'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800',
  ];

  useEffect(() => {
    if (isOpen) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = '';
    }
    return () => {
      document.body.style.overflow = '';
    };
  }, [isOpen]);

  useEffect(() => {
    const handleEscape = (e: KeyboardEvent) => {
      if (e.key === 'Escape' && isOpen) {
        onClose();
      }
    };

    document.addEventListener('keydown', handleEscape);
    return () => document.removeEventListener('keydown', handleEscape);
  }, [isOpen, onClose]);

  useEffect(() => {
    if (!isOpen) {
      setImageOffset({ leftY: 0, rightY: 0 });
      targetOffsetRef.current = { leftY: 0, rightY: 0 };
      setTopoOffset({ x: 0, y: 0 });
      topoTargetRef.current = { x: 0, y: 0 };
      if (animationFrameRef.current) {
        cancelAnimationFrame(animationFrameRef.current);
      }
      if (topoAnimationRef.current) {
        cancelAnimationFrame(topoAnimationRef.current);
      }
      return;
    }

    const MAX_OFFSET_Y = 60; // Maximum pixels images can move up or down
    const EASE_FACTOR = 0.01; // How fast images ease to target (0.1 = smooth, 1 = instant)
    const TOPO_MAX_OFFSET = 20; // Maximum offset for topography
    const TOPO_EASE = 0.08; // Ease factor for topography (faster than images)

    const handleMouseMove = (e: MouseEvent) => {
      // Normalize mouse Y position to -1 to 1 range
      const normalizedY = (e.clientY / window.innerHeight) * 2 - 1;
      const normalizedX = (e.clientX / window.innerWidth) * 2 - 1;

      // Set target positions directly based on mouse Y
      targetOffsetRef.current.leftY = normalizedY * -MAX_OFFSET_Y; // Left moves opposite
      targetOffsetRef.current.rightY = normalizedY * MAX_OFFSET_Y; // Right moves with mouse

      // Set topography target positions (inverted to move opposite of mouse)
      topoTargetRef.current.x = normalizedX * -TOPO_MAX_OFFSET;
      topoTargetRef.current.y = normalizedY * -TOPO_MAX_OFFSET;
    };

    const animate = () => {
      // Ease current position towards target position
      setImageOffset(prev => {
        const newLeftY = prev.leftY + (targetOffsetRef.current.leftY - prev.leftY) * EASE_FACTOR;
        const newRightY = prev.rightY + (targetOffsetRef.current.rightY - prev.rightY) * EASE_FACTOR;

        return {
          leftY: newLeftY,
          rightY: newRightY
        };
      });

      // Continue animation
      animationFrameRef.current = requestAnimationFrame(animate);
    };

    const animateTopo = () => {
      setTopoOffset(prev => {
        const newX = prev.x + (topoTargetRef.current.x - prev.x) * TOPO_EASE;
        const newY = prev.y + (topoTargetRef.current.y - prev.y) * TOPO_EASE;

        return { x: newX, y: newY };
      });

      topoAnimationRef.current = requestAnimationFrame(animateTopo);
    };

    window.addEventListener('mousemove', handleMouseMove);
    animationFrameRef.current = requestAnimationFrame(animate);
    topoAnimationRef.current = requestAnimationFrame(animateTopo);

    return () => {
      window.removeEventListener('mousemove', handleMouseMove);
      if (animationFrameRef.current) {
        cancelAnimationFrame(animationFrameRef.current);
      }
      if (topoAnimationRef.current) {
        cancelAnimationFrame(topoAnimationRef.current);
      }
    };
  }, [isOpen]);

  const handleLinkClick = (e: React.MouseEvent<HTMLAnchorElement>, path: string) => {
    e.preventDefault();
    // Start loading screen first, close menu after loading screen covers everything
    navigateWithLoading(path);
    setTimeout(() => {
      onClose();
    }, 600); // Wait for loading screen to slide down and cover the menu
  };

  const leftColumnTransform = `translateY(${imageOffset.leftY}px)`;
  const rightColumnTransform = `translateY(${imageOffset.rightY}px)`;

  // Create transform for topography with translate and subtle scale
  const topoTransform = `translate(${topoOffset.x}px, ${topoOffset.y}px) scale(${1 + Math.abs(topoOffset.x) * 0.001})`;

  // Handle SVG path interaction for ripple effect and glow
  const handlePathInteraction = (e: React.MouseEvent<SVGPathElement>) => {
    if (!isOpen) return; // Only trigger when menu is open

    const path = e.currentTarget;

    // If this path is already animating, don't trigger again
    if (activePathsRef.current.has(path)) return;

    const svg = path.ownerSVGElement;
    if (!svg) return;

    const svgRect = svg.getBoundingClientRect();

    // Convert screen coordinates to SVG coordinates
    const x = ((e.clientX - svgRect.left) / svgRect.width) * 1600;
    const y = ((e.clientY - svgRect.top) / svgRect.height) * 800;

    // Mark this path as active
    activePathsRef.current.add(path);

    // Add glow class
    path.classList.add('topo-path-active');

    // Remove glow after the element has time to stay lit
    setTimeout(() => {
      path.classList.remove('topo-path-active');
    }, 400); // Stay lit for 400ms

    // Remove from active set after full animation completes (fade out duration)
    setTimeout(() => {
      activePathsRef.current.delete(path);
    }, 1600); // 400ms active + 1200ms fade out

    const newRipple = { id: Date.now() + Math.random(), x, y };
    setRipples(prev => [...prev, newRipple]);

    // Remove ripple after animation
    setTimeout(() => {
      setRipples(prev => prev.filter(r => r.id !== newRipple.id));
    }, 1200);
  };

  return (
      
    <div className={`fullscreen-menu ${isOpen ? 'open' : ''}`}>
      <div className="menu-background"></div>
  {/* Base black layer - always solid */}
  <svg
    className="menu-topographic-base"
    viewBox="0 0 1600 800"
    preserveAspectRatio="xMidYMid slice"
    xmlns="http://www.w3.org/2000/svg">
    <rect width="1600" height="800" fill="var(--audi-black)" />
  </svg>

  {/* Top layer with topography and effects */}
  <svg
    ref={svgRef}
    className="menu-topographic"
    viewBox="0 0 1600 800"
    preserveAspectRatio="xMidYMid slice"
    xmlns="http://www.w3.org/2000/svg">
    <defs>
      {/* Glow filter for active paths - more performant than drop-shadow */}
      <filter id="pathGlow" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="blur1"/>
        <feGaussianBlur in="SourceGraphic" stdDeviation="4" result="blur2"/>
        <feGaussianBlur in="SourceGraphic" stdDeviation="8" result="blur3"/>
        <feMerge>
          <feMergeNode in="blur3"/>
          <feMergeNode in="blur2"/>
          <feMergeNode in="blur1"/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>

    {/* Black background for this layer */}
    <rect width="1600" height="800" fill="var(--audi-black)" pointerEvents="none" />

    {/* Ripple effects */}
    {ripples.map(ripple => (
      <g key={ripple.id}>
        <circle
          cx={ripple.x}
          cy={ripple.y}
          r="50"
          fill="none"
          stroke="rgba(255,255,255,0.8)"
          strokeWidth="3"
          className="ripple-circle"
        >
          <animate
            attributeName="r"
            from="10"
            to="150"
            dur="1.2s"
            begin="0s"
            fill="freeze"
          />
          <animate
            attributeName="opacity"
            from="1"
            to="0"
            dur="1.2s"
            begin="0s"
            fill="freeze"
          />
          <animate
            attributeName="stroke-width"
            from="4"
            to="1"
            dur="1.2s"
            begin="0s"
            fill="freeze"
          />
        </circle>
      </g>
    ))}

    <g style={{ transform: topoTransform, transformOrigin: 'center', transition: 'opacity 0.3s ease', pointerEvents: 'all' }}>
      <path
          d="M4,162.465C4,162.465,37.043,153.325,48.241,143.425C59,133.914,70.122,117.438,70.688,105.051C71.196,93.952,64.387,80.726,55.556,72.727C45.064,63.223,8.04,55.968,8.04,55.968"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,188.648C4,188.648,34.469,182.814,47.092,177.778C57.967,173.439,67.307,168.345,75.84,161.616C84.383,154.88,92.833,146.719,98.312,137.374C103.867,127.899,108.374,115.882,108.776,105.051C109.174,94.332,105.934,81.776,100.906,72.727C96.189,64.237,88.667,57.418,80.402,51.815C71.384,45.702,59.79,41.348,48.241,38.36C35.802,35.141,8.04,33.913,8.04,33.913"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,209.92C4,209.92,40.287,204.704,56.281,199C71.128,193.705,85.25,186.85,97.116,177.778C108.712,168.912,119.855,157.723,126.901,145.455C133.811,133.424,138.802,118.587,139.313,105.051C139.818,91.649,136.267,76.099,130.165,64.646C124.371,53.77,114.942,44.598,104.523,37.472C93.295,29.793,79.145,24.649,64.322,21.165C47.413,17.19,8.04,16.857,8.04,16.857"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,228.789C4,228.789,39.486,225.396,56.281,220.621C72.987,215.872,90.219,209.091,104.523,200.28C118.101,191.916,130.804,181.634,140.454,169.697C149.971,157.924,158.095,143.205,162.216,129.293C166.09,116.217,167.361,102.157,165.534,88.889C163.651,75.208,158.217,59.885,150.533,48.485C143.08,37.43,132.872,28.325,120.603,21.154C106.324,12.809,68.451,4,68.451,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M269.042,606.061C269.81,612.165,272.324,617.412,276.29,622.222C281.087,628.042,289.249,633.732,297.487,637.148C306.732,640.982,318.305,642.43,329.648,642.758C342.277,643.124,356.526,641.375,369.849,638.123C383.845,634.706,400.225,628.419,411.581,622.222C420.45,617.382,427.859,612.813,433.514,606.061C439.147,599.334,444.85,589.196,445.483,581.818C445.982,575.993,444.017,570.578,440.704,565.657C436.595,559.553,429.35,553.652,420.441,549.495C407.869,543.628,387.31,539.463,369.849,539.246C351.201,539.013,328.392,541.897,311.863,549.495C296.664,556.481,279.89,569.862,273.367,581.056C268.709,589.047,268.123,598.754,269.042,606.061"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,246.458C4,246.458,45.595,243.399,64.322,238.703C81.574,234.376,98.058,228.17,112.563,220.346C126.118,213.033,138.413,204.365,149.099,193.939C159.88,183.421,170.016,170.86,176.884,157.428C183.784,143.935,188.867,128.383,190.339,113.131C191.849,97.482,189.696,78.804,185.352,64.646C181.584,52.363,176.152,41.988,167.991,32.323C158.84,21.487,131.586,4,131.586,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M221.91,630.303C225.95,640.076,232.464,648.97,241.206,655.893C251.441,663.999,267.061,670.268,281.407,673.605C296.448,677.103,312.496,676.94,329.648,675.635C349.634,674.113,373.223,669.244,393.97,662.998C414.568,656.798,436.276,648.579,453.712,638.384C469.388,629.218,485.755,618.183,494.731,606.061C502.047,596.181,507.078,583.996,507.32,573.737C507.536,564.568,504.101,555.374,498.492,547.467C491.692,537.881,478.832,528.848,466.332,522.456C452.447,515.355,435.514,511.218,418.09,508.35C398.371,505.105,374.42,504.263,353.769,505.664C334.307,506.983,314.17,510.519,297.487,515.74C283.145,520.228,270.203,525.962,259.066,533.333C248.794,540.132,239.413,547.67,232.513,557.576C225.147,568.152,218.654,582.959,217.085,595.545C215.634,607.191,217.683,620.077,221.91,630.303"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1087.745,153.535C1092.275,159.589,1104.754,165.398,1117.942,169.697C1139.195,176.625,1175.345,180.65,1206.03,182.002C1239.315,183.468,1287.045,180.247,1310.553,176.695C1322.794,174.846,1330.248,173.839,1338.056,169.697C1345.287,165.861,1355.63,159.217,1356.249,153.535C1356.809,148.389,1349.959,141.775,1344.527,137.374C1338.05,132.125,1330.099,129.28,1318.593,125.832C1298.147,119.704,1260.36,112.706,1230.151,111.233C1198.776,109.703,1157.838,112.978,1133.668,117.624C1118.554,120.53,1106.105,123.95,1097.7,129.293C1091.906,132.976,1086.698,137.879,1085.427,142.413C1084.416,146.019,1085.136,150.049,1087.745,153.535"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,263.52C4,263.52,45.514,262.011,64.322,258.402C81.484,255.108,97.412,250.524,112.563,243.768C127.562,237.079,141.936,228.8,154.828,218.182C168.378,207.022,182.032,192.771,191.511,177.778C200.802,163.082,207.936,145.781,211.461,129.293C214.852,113.433,215.03,96.07,212.96,80.808C211.028,66.556,207.202,52.907,200.443,40.404C193.301,27.192,170.352,4,170.352,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M183.47,630.303C187.128,645.389,195.266,659.972,205.644,670.707C216.18,681.604,230.99,689.758,246.484,694.949C263.812,700.756,283.917,702.187,305.528,701.524C332.093,700.708,364.302,694.609,393.97,686.135C425.913,677.01,464.459,662.567,490.452,647.126C510.945,634.953,530.003,621.37,540.43,606.061C548.878,593.656,553.962,578.717,553.499,565.657C553.053,553.052,546.872,539.426,538.693,528.983C529.705,517.507,514.894,508.248,499.978,501.01C483.251,492.893,463.268,488.152,442.211,484.53C417.826,480.334,387.086,478.775,361.809,479.472C339.144,480.097,317.932,482.162,297.487,487.095C277.804,491.844,256.83,499.251,241.206,507.993C228.282,515.225,218.025,522.796,208.873,533.333C198.997,544.705,189.282,559.322,184.925,574.753C180.229,591.383,179.454,613.738,183.47,630.303"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1016.217,153.535C1019.488,162.28,1031.222,169.545,1045.226,175.845C1070.881,187.385,1119.9,195.088,1165.829,199.018C1225.758,204.146,1329.889,201.269,1374.874,195.021C1396.846,191.97,1411.207,189.347,1423.116,182.349C1432.155,177.036,1442.243,169.124,1443.022,161.616C1443.799,154.129,1434.806,143.977,1427.881,137.374C1420.427,130.267,1410.53,126.102,1398.995,121.189C1383.621,114.639,1363.338,108.632,1342.714,104.105C1318.485,98.787,1293.309,94.703,1262.312,92.984C1220.261,90.653,1151.37,92.071,1112.992,96.97C1088.407,100.108,1069.725,104.295,1053.266,110.78C1040.456,115.828,1027.021,121.114,1021.106,129.342C1016.282,136.05,1013.531,146.353,1016.217,153.535"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,280.42C4,280.42,44.707,280.963,64.322,278.157C83.555,275.404,103.044,271.172,120.603,263.98C137.841,256.92,154.382,247.267,168.844,235.67C183.446,223.961,197.301,209.243,207.7,193.939C217.792,179.09,225.907,162.014,230.765,145.455C235.4,129.655,237.324,113.102,236.941,96.97C236.557,80.779,234.044,63.82,228.412,48.485C222.647,32.791,202.355,4,202.355,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M156.941,646.465C162.419,663.753,172.314,680.361,184.925,692.281C197.658,704.317,215.331,712.832,233.166,718.136C252.536,723.898,273.172,725.008,297.487,723.694C329.9,721.943,373.066,712.779,410.05,701.559C448.222,689.98,492.693,673.001,522.849,654.545C546.466,640.092,568.499,624.192,580.004,606.061C589.422,591.219,594.423,573.488,593.087,557.576C591.713,541.196,582.259,522.231,570.854,509.23C559.051,495.775,541.51,486.689,522.613,478.871C499.887,469.47,470.956,464.301,442.211,460.656C409.837,456.552,369.253,455.609,337.688,457.579C311.274,459.227,287.239,462.313,265.327,468.817C245.701,474.642,227.452,482.044,211.763,492.929C196.324,503.64,181.625,518.038,171.736,533.333C162.203,548.078,155.473,564.843,152.764,582.664C149.784,602.265,150.963,627.598,156.941,646.465"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M972.864,166.353C979.499,175.31,991.898,181.506,1005.025,187.294C1022.298,194.909,1045.561,199.68,1069.347,203.943C1098.084,209.093,1125.415,211.975,1165.829,213.759C1233.685,216.754,1382.036,218.371,1439.196,210.154C1466.036,206.296,1484.138,202.823,1497.252,193.939C1506.581,187.619,1515.277,178.54,1515.77,169.697C1516.318,159.865,1506.349,146.726,1496.354,137.374C1483.305,125.165,1459.929,115.924,1439.196,108.019C1416.632,99.416,1392.345,93.843,1365.532,88.889C1334.208,83.101,1297.519,79.306,1262.312,77.348C1225.659,75.31,1186.007,75.268,1149.749,77.374C1115.629,79.355,1079.546,82.196,1050.743,88.889C1027.381,94.317,1003.905,100.618,988.945,110.808C977.743,118.438,967.004,128.664,964.824,138.545C962.889,147.314,967.102,158.575,972.864,166.353"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,297.554C4,297.554,50.786,300.263,72.362,298.175C92.14,296.261,111.065,293.125,128.643,286.649C145.857,280.307,162.238,271.059,176.884,260.044C191.765,248.853,205.576,234.796,217.085,219.824C228.704,204.71,239.211,187.478,246.162,169.697C253.112,151.914,257.497,132.086,258.787,113.131C260.064,94.373,258.617,74.713,254.042,56.566C249.446,38.329,231.186,4,231.186,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M129.61,646.465C134.56,667.334,143.793,688.038,157.147,703.03C170.359,717.864,189.415,729.105,209.045,736.187C230.406,743.893,254.289,745.965,281.407,745.201C316.568,744.21,360.602,735.174,402.01,723.219C448.715,709.734,509.352,686.828,546.734,665.101C573.831,649.352,597.167,633.904,610.908,614.141C622.617,597.302,629.511,576.407,629.369,557.576C629.228,538.697,621.674,516.688,609.965,501.01C597.504,484.325,576.451,471.463,554.774,461.748C529.687,450.504,498.781,446.041,466.332,441.565C427.666,436.233,375.518,434.118,337.688,435.16C307.717,435.985,281.347,437.733,257.286,443.617C236.476,448.706,217.914,455.045,201.005,465.761C183.715,476.718,166.935,491.973,154.942,509.091C142.64,526.648,133.031,548.203,128.643,570.202C123.946,593.756,124.161,623.486,129.61,646.465"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M930.839,169.697C937.423,180.379,950.931,188.402,964.824,195.287C982.236,203.916,1004.893,208.74,1029.146,213.421C1059.563,219.292,1088.263,222.057,1133.668,224.599C1217.907,229.315,1422.866,234.984,1495.477,226.526C1527.389,222.808,1546.994,220.311,1563.403,210.101C1576.137,202.178,1588.151,188.357,1590.344,177.778C1592.044,169.58,1587.111,160.425,1583.215,153.535C1579.584,147.114,1575.696,142.993,1568.362,137.374C1555.263,127.339,1529.959,114.171,1506.258,105.051C1477.576,94.013,1441.962,85.754,1407.035,79.201C1369.028,72.071,1328.538,67.71,1286.432,65.141C1240.462,62.336,1186.867,62.108,1141.709,64.299C1101.777,66.236,1061.574,69.228,1029.146,75.907C1003.552,81.178,978.028,89.033,961.88,96.97C951.666,101.99,945.033,106.581,938.768,113.131C932.707,119.467,926.306,126.804,924.623,135.401C922.689,145.283,924.88,160.028,930.839,169.697"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,315.354C4,315.354,56.894,322.01,80.402,321.623C100.611,321.291,119.099,320.476,136.683,315.135C153.89,309.908,170.333,301.01,184.925,290.325C199.89,279.366,212.895,265.157,225.126,249.829C238.297,233.321,251.521,213.928,260.567,193.939C269.695,173.773,276.563,151.067,279.499,129.293C282.375,107.96,281.943,85.592,278.411,64.646C274.902,43.835,258.494,4,258.494,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M106.723,654.545C112.253,678.32,121.873,702.739,136.683,719.668C150.961,735.987,171.081,747.53,192.965,755.303C218.269,764.29,248.854,767.178,281.407,765.797C322.155,764.069,371.387,752.062,418.09,737.68C470.275,721.61,543.797,689.686,578.922,670.707C597.465,660.689,607.544,653.433,619.095,643.448C629.546,634.415,639.05,624.775,645.931,614.141C652.408,604.133,657.06,592.82,659.876,581.818C662.58,571.253,663.313,560.244,662.919,549.495C662.523,538.695,660.889,527.698,657.466,517.172C653.874,506.124,648.242,494.362,641.383,484.848C634.691,475.568,626.694,467.617,617.031,460.606C606.245,452.78,595.491,446.773,578.894,441.129C551.758,431.902,508.676,425.072,466.332,420.256C412.489,414.132,327.058,409.891,281.407,412.27C254.349,413.681,236.427,415.132,217.085,421.814C199.213,427.988,183.203,436.952,168.844,449.305C153.206,462.758,138.668,481.563,128.057,501.01C116.931,521.4,108.279,545.053,104.523,569.474C100.45,595.951,100.698,628.642,106.723,654.545"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1596,240.667C1596,240.667,1504.253,246.572,1439.196,246.203C1331.924,245.596,1088.585,235.967,1013.065,226.322C985.336,222.78,973.693,220.044,956.784,214.477C941.961,209.597,927.641,204.133,916.583,196.105C906.654,188.897,897.283,179.15,892.462,169.876C888.425,162.108,886.431,154.053,887.125,145.455C887.943,135.316,892.452,122.746,899.897,113.131C908.87,101.544,924.819,91.255,940.704,83.423C958.916,74.442,981.636,69.289,1004.345,64.646C1029.533,59.497,1050.732,57.102,1085.427,55.161C1147.022,51.715,1257.541,49.57,1342.714,56.363C1427.729,63.143,1596,95.81,1596,95.81"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,334.479C4,334.479,101.118,352.883,125.332,363.636C136.929,368.786,145.871,372.676,148.955,379.798C151.81,386.392,148.416,393.169,145.203,404.04C137.726,429.336,101.494,487.221,90.894,525.253C82.191,556.482,80.003,587.843,79.962,614.141C79.93,635.116,82.867,653.616,86.742,670.707C90.095,685.496,94.069,698.831,100.428,711.111C106.583,722.999,114.207,734.228,123.947,743.434C134.148,753.078,144.841,760.727,160.804,767.203C184.715,776.904,223.775,785.208,257.286,786.564C293.251,788.02,327.634,783.576,369.849,773.32C427.957,759.202,523.47,719.833,570.854,697.762C598.233,685.01,616.2,674.903,633.343,662.626C647.022,652.829,657.911,644.612,667.337,632.155C677.666,618.503,687.118,600.474,691.457,582.912C695.908,564.899,696.068,544.113,693.129,525.253C690.132,506.023,683.444,484.453,673.232,468.687C663.679,453.937,651.617,442.083,635.176,432.55C614.383,420.494,590.139,415.544,554.774,408.44C489.842,395.398,328.108,388.365,273.367,378.75C250.426,374.72,236.592,372.003,225.126,366.81C217.906,363.539,211.377,360.967,208.953,355.556C206.254,349.532,208.405,341.892,211.887,331.313C219.921,306.903,261.018,251.251,275.984,218.182C286.842,194.19,294.006,176.63,298.453,153.535C303.288,128.427,304.696,98.399,302.17,72.727C299.806,48.712,285.191,4,285.191,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1596,268.091C1596,268.091,1055.672,248.261,964.824,234.397C939.328,230.505,931.165,227.899,916.583,222.101C903.296,216.818,890.059,210.117,880.453,202.02C872.119,194.996,865.305,187.032,860.953,177.778C856.472,168.248,853.696,156.143,854.345,145.455C855.004,134.591,858.68,123.142,865.162,113.131C872.831,101.288,886.725,89.377,900.246,80.808C914.408,71.833,931.159,66.304,948.744,61.14C968.409,55.366,984.968,52.209,1013.065,49.041C1065.194,43.163,1158.475,39.138,1238.191,40.336C1328.654,41.695,1464.526,60.066,1527.638,60.251C1558.304,60.341,1596,55.951,1596,55.951"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,355.734C4,355.734,50.273,371.557,64.322,384.161C75.503,394.193,82.919,402.874,86.353,420.202C93.277,455.15,61.89,545.038,59.406,589.899C57.79,619.101,59.55,640.053,62.818,662.626C65.742,682.817,68.279,701.886,76.704,719.192C85.369,736.993,98.327,755.089,114.751,767.677C132.541,781.312,181.29,796,181.29,796"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M381.594,796C381.594,796,525.604,743.118,578.894,717.422C617.31,698.899,650.857,683.883,674.689,662.626C693.695,645.674,707.853,627.896,716.252,606.061C725.286,582.573,726.702,551.975,724.418,525.253C722.098,498.096,714.933,465.393,701.949,444.444C690.927,426.662,674.502,413.431,657.008,404.04C638.995,394.371,622.507,392.911,594.975,387.999C542.322,378.607,410.121,374.253,361.809,364.603C339.402,360.128,326.797,356.473,313.568,349.982C302.991,344.793,293.01,340.212,287.304,331.313C280.858,321.26,278.48,307.347,279.639,290.909C281.544,263.906,307.768,215.755,315.423,185.859C320.929,164.354,323.726,148.853,325.308,129.293C326.986,108.538,326.829,85.745,324.558,64.646C322.336,43.999,312.087,4,312.087,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1596,289.552C1596,289.552,1425.474,270.808,1326.633,263.742C1206.093,255.124,988.75,254.924,924.623,244.748C903.985,241.473,896.761,238.93,884.422,233.729C872.753,228.811,861.331,222.918,852.261,214.875C843.293,206.922,835.089,196.365,830.198,185.859C825.535,175.842,822.841,164.9,822.927,153.535C823.024,140.807,826.496,125.197,832.661,113.131C838.901,100.921,848.958,89.949,860.354,80.808C872.894,70.749,889.264,62.928,905.837,56.566C923.835,49.656,938.408,45.848,964.824,41.915C1016.6,34.205,1114.504,30.519,1197.99,29.732C1294.767,28.82,1440.342,45.648,1511.558,40.194C1548.827,37.339,1596,24.283,1596,24.283"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,381.281C4,381.281,32.169,400.535,40.033,412.121C46.708,421.955,49.149,429.277,51.096,444.444C55.337,477.479,38.382,557.006,39.05,606.061C39.61,647.152,41.461,690.055,50.588,719.192C56.958,739.531,65.567,754.728,77.418,767.677C88.745,780.052,119.366,796,119.366,796"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M478.364,796C478.364,796,615.234,733.356,659.296,705.466C687.3,687.742,708.176,675.256,723.618,655.065C737.985,636.279,746.261,615.579,751.141,589.899C757.53,556.279,754.425,502.385,748.226,468.687C743.565,443.346,737.474,420.453,725.377,404.04C714.809,389.703,699.328,379.793,683.417,372.787C666.765,365.455,651.804,365.099,627.136,362.001C580.894,356.195,472.26,357.134,426.131,349.832C401.344,345.908,385.531,342.025,369.849,335.248C357.222,329.791,345.593,324.724,337.956,315.152C329.817,304.948,325.212,292.64,323.746,274.747C321.023,241.521,347.097,176.111,349.413,129.293C351.548,86.11,339.892,4,339.892,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1596,308.445C1596,308.445,1415.413,280.817,1310.553,272.458C1182.9,262.283,950.825,269.463,884.422,258.098C863.544,254.525,855.779,251.281,844.221,245.428C834.083,240.293,825.484,234.381,818.058,226.263C810.044,217.503,802.861,205.107,798.539,193.939C794.502,183.508,792.45,173.018,792.148,161.616C791.811,148.926,793.139,134.185,797.934,121.212C803.128,107.163,812.358,92.261,823.6,80.808C835.502,68.684,851.963,58.924,868.342,51.21C885.495,43.131,899.922,38.634,924.623,34.054C969.412,25.75,1042.843,22.64,1117.588,20.372C1220.941,17.236,1418.311,27.824,1487.437,24.115C1514.495,22.664,1526.876,21.348,1543.719,17.483C1558.07,14.19,1582.596,4,1582.596,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M4,416.906C4,416.906,19.447,446.394,23.167,468.687C29.373,505.867,18.649,576.914,19.518,622.222C20.209,658.259,20.457,693.729,25.55,719.192C29.011,736.495,32.351,748.981,40.201,761.598C48.356,774.704,74.267,796,74.267,796"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M606.32,796C606.32,796,604.583,787.806,606.321,783.838C608.755,778.283,615.111,774.489,623.843,767.677C644.147,751.836,706.532,720.977,731.658,697.043C749.159,680.372,760.011,667.309,768.424,646.465C778.953,620.381,780.768,585.586,781.962,549.495C783.458,504.24,780.607,431.445,770.797,395.96C765.137,375.489,758.177,360.76,747.739,350.214C738.964,341.349,731.924,337.667,715.578,333.588C674.093,323.236,533.485,335.755,482.412,330.801C457.112,328.347,443.159,326.241,426.131,320.477C410.646,315.235,393.679,307.279,383.974,298.99C377.058,293.083,373.131,287.097,369.849,279.554C366.207,271.182,364.899,263.711,364.194,250.505C362.717,222.853,374.53,163.278,375.283,121.212C375.999,81.208,369.445,4,369.445,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1596,326.035C1596,326.035,1485.214,303.212,1431.156,295.412C1379.419,287.948,1342.642,282.979,1278.392,279.635C1169.367,273.961,907.479,294.346,836.181,279.158C812.063,274.02,801.566,269.763,789.953,258.586C777.952,247.036,770.993,227.361,766.111,210.101C761.104,192.401,759.015,172.227,760.759,153.535C762.534,134.51,767.915,113.345,777.049,96.97C785.843,81.202,798.503,67.657,813.734,56.566C830.833,44.115,851.138,35.311,876.382,28.201C911.041,18.44,949.353,15.694,1005.025,12.183C1106.909,5.759,1352.184,15.311,1439.196,11.285C1476.706,9.549,1519.55,4,1519.55,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path d="M4.235,743.434C4.235,743.434,10.736,765.162,16.08,774.138C21.074,782.524,34.717,796,34.717,796"
            fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M935.338,796C935.338,796,847.279,779.587,820.673,767.677C804.627,760.494,790.779,757.169,785.209,743.434C776.079,720.918,803.268,675.976,808.225,630.303C815.645,561.945,806.129,414.582,812.241,371.717C814.312,357.188,815.472,351.256,820.101,343.065C824.544,335.201,830.5,328.801,838.982,323.232C850.26,315.828,866.502,311.124,884.422,306.544C908.779,300.319,936.019,296.641,972.864,293.315C1033.392,287.852,1138.209,283.564,1214.07,285.704C1282.037,287.62,1343.34,293.149,1407.035,302.715C1470.649,312.268,1596,343.029,1596,343.029"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M916.583,4.303C916.583,4.303,844.568,16.172,820.101,25.741C803.549,32.213,791.941,39.963,781.008,48.485C771.546,55.861,764.542,62.159,757.336,72.727C747.584,87.028,737.909,106.613,731.842,129.293C723.629,159.994,729.739,217.327,720.565,242.424C715.316,256.786,710.267,264.863,699.497,273.119C684.921,284.294,658.66,290.496,635.176,295.785C608.36,301.823,576.2,305.289,546.734,305.033C517.238,304.777,478.337,299.956,458.291,294.231C447.244,291.075,441.237,288.306,433.746,282.828C425.485,276.787,416.655,268.52,411.482,258.586C405.681,247.448,404.648,237.112,402.558,218.182C397.807,175.162,402.01,4.492,402.01,4.492"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M809.599,4C809.599,4,770.842,18.85,755.779,29.697C742.183,39.488,731.241,51.155,722.022,64.646C712.361,78.785,706.146,94.145,699.736,113.131C691.362,137.938,688.221,180.171,679.833,202.02C674.48,215.963,670.574,225.16,661.633,234.343C651.296,244.96,635.83,253.732,619.095,259.811C598.752,267.202,570.054,271.759,546.734,271.301C524.761,270.869,499.746,267.465,482.946,258.586C468.792,251.105,457.732,241.085,449.984,226.263C439.661,206.513,438.456,176.258,436.267,145.455C433.389,104.981,439.974,4,439.974,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1117.588,795.56C1117.588,795.56,973.785,770.43,932.663,756.328C910.763,748.818,897.495,742.691,884.422,732.925C873.067,724.443,864.103,716.66,857.166,703.03C847.26,683.567,844.411,652.038,840.588,622.222C835.949,586.055,833.27,539.935,834.189,501.01C835.045,464.707,836.688,423.717,844.72,395.96C850.475,376.071,857.443,359.727,868.949,347.475C879.809,335.912,894.623,329.689,910.692,323.232C929.843,315.537,948.221,311.376,977.329,307.071C1030.529,299.202,1133.078,293.02,1206.03,294.306C1273.128,295.489,1334.736,301.22,1398.995,311.916C1464.729,322.857,1596,359.889,1596,359.889"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M725.257,4C725.257,4,691.077,33.109,676.388,56.566C655.341,90.174,641.794,169.109,623.104,193.939C613.95,206.101,605.828,210.449,594.975,215.339C583.287,220.606,568.33,224.022,554.774,223.338C540.537,222.62,523.059,218.754,511.549,210.101C499.656,201.16,491.056,186.34,485.151,169.697C477.491,148.105,476.114,116.113,476.789,88.889C477.484,60.897,489.856,4,489.856,4"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1251.949,796C1251.949,796,1051.293,760.046,996.985,743.275C970.361,735.054,955.822,729.348,939.233,719.192C924.411,710.117,911.834,700.963,901.142,686.869C888.381,670.048,878.478,646.041,871.424,622.222C863.499,595.459,859.436,564.258,858.449,533.333C857.38,499.836,859.835,458.313,866.993,428.283C872.722,404.25,880.113,381.427,892.462,365.767C903.034,352.36,916.949,344.634,932.663,336.932C950.965,327.961,969.042,322.866,996.985,317.79C1046.363,308.821,1137.376,302.031,1206.03,303.108C1272.867,304.157,1338.716,310.949,1403.621,323.232C1468.712,335.551,1596,377.012,1596,377.012"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1324.695,796C1324.695,796,1287.334,776.514,1257.728,767.677C1204.807,751.88,1076.725,739.497,1029.146,726.076C1006.693,719.743,995.967,715.322,980.905,707.374C966.017,699.519,951.73,691.423,939.224,678.788C924.706,664.119,910.544,643.157,901.281,622.222C891.567,600.267,886.034,575.15,883.308,549.495C880.337,521.543,881.308,488.445,886.024,460.606C890.39,434.828,897.761,406.304,908.923,387.879C917.562,373.62,927.713,364.522,941.179,355.556C957.121,344.94,978.51,337.555,1000.419,331.313C1025.843,324.07,1055,320.25,1085.427,317.014C1120.215,313.314,1161.169,311.707,1197.99,311.915C1233.481,312.115,1268.457,314.202,1302.513,317.832C1335.406,321.338,1361.536,324.219,1398.995,332.988C1453.461,345.738,1596,394.812,1596,394.812"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1375.872,796C1375.872,796,1360.217,778.804,1350.754,772.412C1341.155,765.929,1334.866,762.579,1318.593,757.503C1275.127,743.944,1122.712,728.249,1069.347,714.55C1043.321,707.869,1030.134,703.435,1012.473,694.949C995.375,686.735,978.874,677.695,964.824,664.816C949.891,651.127,935.881,633.021,926.238,614.141C916.309,594.701,910.015,571.933,906.693,549.495C903.245,526.21,903.255,500.77,906.662,476.768C910.138,452.275,917.599,422.945,927.764,404.04C935.584,389.497,944.262,379.571,956.784,369.886C971.572,358.448,991.666,349.749,1013.065,342.684C1038.746,334.207,1070.662,329.528,1101.508,325.903C1134.762,321.995,1171.2,320.67,1206.03,321.046C1240.882,321.422,1276.527,323.906,1310.553,328.166C1343.476,332.289,1369.996,335.85,1407.035,345.834C1460.035,360.12,1596,413.845,1596,413.845"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1417.625,796C1417.625,796,1402.056,768.775,1391.661,759.596C1382.159,751.206,1375.735,747.544,1358.794,741.836C1313.375,726.533,1148.91,713.818,1093.467,700.497C1067.428,694.241,1054.684,689.934,1037.186,682.032C1020.44,674.469,1004.59,666.481,990.416,654.545C975.078,641.631,959.554,623.873,949.378,606.061C939.497,588.762,933.273,569.275,929.647,549.495C925.879,528.944,925.342,506.211,927.9,484.848C930.504,463.106,936.368,438.48,945.469,420.202C953.417,404.24,963.504,390.828,976.738,379.798C990.96,367.945,1008.829,359.842,1029.146,352.686C1054.271,343.835,1086.721,338.481,1117.588,334.765C1150.822,330.765,1187.992,329.811,1222.111,330.613C1254.94,331.385,1287.266,334.383,1318.593,338.999C1348.851,343.458,1377.877,349.404,1407.035,357.472C1436.58,365.646,1464.717,375.757,1494.674,387.879C1527.552,401.182,1596,434.965,1596,434.965"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1454.734,796C1454.734,796,1447.724,763.62,1438.556,751.515C1429.255,739.234,1419.624,731.156,1398.995,723.08C1349.945,703.875,1184.835,701.506,1125.628,689.241C1096.421,683.191,1080.806,678.488,1061.307,670.371C1043.631,663.013,1027.594,655.171,1013.065,643.793C997.996,631.991,983.041,616.35,972.864,600.259C963.086,584.796,956.447,567.212,952.457,549.495C948.396,531.464,947.352,511.66,949.013,492.929C950.696,473.947,954.755,453.704,962.719,436.364C970.717,418.95,982.917,401.109,996.985,388.706C1010.591,376.71,1026.537,369.477,1045.226,362.491C1068.114,353.935,1096.895,348.435,1125.628,344.706C1158.014,340.503,1196.046,339.387,1230.151,340.48C1262.994,341.532,1295.528,345.191,1326.633,350.594C1356.432,355.77,1385.173,362.708,1413.123,371.717C1440.634,380.585,1465.162,390.822,1493.096,404.04C1525.663,419.451,1596,460.237,1596,460.237"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1489.496,796C1489.496,796,1492.041,736.222,1483.12,719.192C1477.018,707.543,1471.008,702.453,1455.276,696.279C1410.665,678.771,1229.891,688.353,1165.829,679.059C1133.401,674.354,1115.675,670.057,1093.467,662.213C1073.097,655.019,1053.443,646.288,1037.186,635.005C1022.136,624.56,1008.546,611.516,998.471,597.98C989.2,585.523,982.546,572.059,977.847,557.576C972.96,542.512,970.11,525.863,970.249,509.091C970.399,490.95,973.466,470.072,980.077,452.525C986.653,435.069,996.369,417.332,1009.709,404.04C1023.684,390.117,1042.31,379.947,1063.033,371.717C1087.746,361.902,1119.315,356.535,1149.749,353.13C1182.789,349.434,1220.224,349.516,1254.271,351.91C1287.173,354.225,1319.577,359.221,1350.754,366.7C1381.243,374.015,1410.509,383.334,1439.398,395.96C1469.324,409.039,1500.196,426.819,1527.054,444.444C1552.087,460.872,1596,497.543,1596,497.543"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path d="M1523.584,796C1523.584,796,1531.8,751.297,1543.719,734.108C1555.798,716.687,1596,692.452,1596,692.452"
            fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1023.103,420.202C1036.703,404.231,1056.039,392.007,1077.387,382.688C1102.401,371.768,1134.373,366.212,1165.829,363.049C1200.895,359.523,1241.791,360.627,1278.392,365.086C1314.109,369.437,1349.552,377.025,1382.915,388.939C1416.164,400.811,1450.66,417.794,1478.257,436.364C1502.985,453.002,1528.693,475.504,1542.364,492.929C1551.296,504.314,1556.469,514.956,1559.302,525.253C1561.613,533.651,1561.886,541.548,1560.62,549.495C1559.31,557.719,1556.204,565.531,1551.208,573.737C1544.775,584.304,1533.888,596.2,1522.663,606.061C1510.311,616.912,1493.972,627.564,1479.397,635.296C1466.123,642.338,1456.54,646.718,1439.196,651.414C1410.096,659.293,1360.162,667.007,1318.593,669.333C1274.566,671.796,1222.27,670.128,1181.91,664.449C1148.963,659.813,1119.747,653.931,1093.467,642.444C1069.326,631.892,1045.48,617.916,1029.146,600.276C1013.877,583.787,1002.175,562.221,996.725,541.414C991.38,521.006,991.648,497.109,996.151,476.768C1000.585,456.742,1009.851,435.765,1023.103,420.202"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1044.469,428.283C1056.862,413.955,1074.139,402.347,1093.467,393.634C1116.144,383.41,1145.648,377.767,1173.869,374.675C1204.37,371.332,1238.92,372.299,1270.352,375.955C1301.101,379.532,1332.02,386.074,1360.507,395.96C1388.217,405.575,1416.103,418.413,1439.196,433.937C1460.734,448.415,1483.802,466.333,1495.625,484.848C1505.287,499.979,1510.793,519.968,1510.615,533.333C1510.489,542.825,1506.834,549.597,1502.407,557.576C1497.135,567.077,1490.335,576.172,1479.397,585.643C1462.519,600.256,1432.596,619.555,1405.418,630.303C1376.623,641.69,1343.719,647.189,1310.553,650.525C1274.824,654.118,1232.576,653.506,1197.99,649.45C1167.721,645.9,1138.94,640.439,1113.926,630.303C1091.23,621.106,1069.029,609.033,1053.266,593.44C1038.619,578.952,1026.516,560.551,1020.87,541.414C1015.071,521.759,1015.276,496.266,1019.781,476.768C1023.914,458.881,1032.668,441.926,1044.469,428.283"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path d="M1558.486,796C1558.486,796,1563.227,776.786,1568.656,767.677C1574.993,757.045,1596,737.136,1596,737.136"
            fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1069.347,433.986C1080.867,421.539,1096.287,411.618,1113.367,404.04C1133.026,395.319,1157.973,390.212,1181.91,387.433C1207.468,384.467,1236.087,385.111,1262.312,387.964C1287.986,390.758,1313.547,395.939,1337.679,404.04C1361.687,412.1,1386.91,423.323,1406.763,436.364C1424.511,448.021,1442.33,464.181,1452.395,476.768C1459.177,485.248,1463.083,492.658,1465.734,501.01C1468.222,508.852,1470.345,516.14,1468.449,525.253C1465.578,539.05,1454.167,559.737,1440.571,573.737C1424.606,590.178,1398.743,604.327,1374.874,614.12C1350.182,624.252,1322.687,629.642,1294.472,632.741C1263.965,636.09,1227.644,635.595,1197.99,631.887C1171.934,628.629,1147.126,623.23,1125.628,614.185C1106.132,605.982,1087.337,595.661,1073.61,581.818C1060.392,568.488,1048.793,550.863,1044.005,533.333C1039.228,515.84,1040.191,493.772,1044.851,476.768C1049.201,460.894,1058.262,445.964,1069.347,433.986"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1085.412,452.525C1094.964,439.816,1109.567,428.324,1124.855,420.202C1141.374,411.426,1162.104,406.359,1181.91,403.165C1202.499,399.844,1224.871,399.691,1246.231,401.26C1267.754,402.841,1289.489,406.304,1310.553,412.715C1332.399,419.363,1356.665,429.372,1374.874,441.026C1390.83,451.238,1406.251,463.141,1415.3,476.768C1423.345,488.882,1429.731,503.862,1428.941,517.172C1428.133,530.805,1419.79,545.648,1409.718,557.576C1397.839,571.642,1377.572,584.273,1358.794,593.347C1339.298,602.767,1316.782,608.66,1294.472,612.391C1271.29,616.267,1246.126,617.326,1222.111,615.543C1197.883,613.744,1170.914,609.145,1149.749,601.495C1131.462,594.884,1114.646,586.679,1101.508,575.017C1088.828,563.764,1077.078,547.887,1071.688,533.333C1066.893,520.386,1065.999,506.138,1068.105,492.929C1070.298,479.18,1076.544,464.325,1085.412,452.525"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1121.442,452.525C1131.091,443.001,1144.299,435.38,1157.789,429.824C1172.283,423.855,1189.848,420.561,1206.03,418.88C1222.011,417.219,1238.285,417.778,1254.271,419.651C1270.448,421.547,1286.755,424.794,1302.513,430.303C1318.943,436.047,1337.213,444.147,1350.754,453.92C1362.914,462.697,1374.989,473.455,1381.09,484.848C1386.417,494.797,1389.408,506.666,1387.896,517.172C1386.302,528.245,1379.222,539.925,1370.512,549.495C1360.074,560.964,1342.833,571.427,1326.633,578.712C1309.61,586.368,1289.272,591.016,1270.352,593.553C1251.746,596.048,1232.403,596.067,1214.07,594.049C1196.1,592.07,1177.27,588.289,1161.39,581.818C1146.633,575.805,1131.858,567.632,1121.472,557.576C1112.03,548.434,1103.896,537.207,1100.387,525.253C1096.796,513.02,1097.024,497.092,1100.665,484.848C1104.216,472.909,1112.305,461.544,1121.442,452.525"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1157.789,462.856C1164.81,457.05,1171.272,452.781,1181.91,449.53C1199.182,444.252,1231.183,439.782,1254.271,443.117C1276.896,446.385,1305.458,459.556,1319.174,468.687C1326.971,473.878,1331.042,478.381,1334.889,484.848C1338.972,491.712,1342.771,501.069,1342.439,509.091C1342.102,517.232,1338.359,525.977,1332.627,533.333C1325.444,542.551,1311.407,551.739,1299.486,557.576C1287.918,563.24,1275.65,566.313,1262.312,568.228C1247.413,570.368,1229.128,570.569,1214.07,568.526C1200.326,566.661,1186.587,562.879,1175.396,557.576C1165.524,552.898,1156.431,547.515,1149.749,539.682C1142.783,531.515,1136.246,518.903,1134.939,509.091C1133.826,500.731,1135.988,492.316,1139.502,484.848C1143.287,476.807,1150.636,468.771,1157.789,462.856"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
      <path
          d="M1222.111,483.646C1229.42,481.936,1238.869,482.117,1246.231,483.836C1253.078,485.435,1260.869,488.383,1265.011,492.929C1268.778,497.064,1272.279,504.084,1271.058,509.091C1269.615,515.01,1260.6,522.187,1253.158,525.253C1244.71,528.733,1231.265,529.557,1222.111,526.717C1213.242,523.965,1201.006,515.652,1198.867,509.091C1197.24,504.101,1200.235,497.088,1203.719,492.929C1207.57,488.335,1215.356,485.226,1222.111,483.646"
          fill="none" strokeLinecap="round" strokeMiterlimit="4"
          className="topo-path"
          onMouseMove={handlePathInteraction}></path>
    </g>
  </svg>

  <button className="menu-close" onClick={onClose} aria-label="Close menu">
    <span></span>
    <span></span>
  </button>

  <div className="menu-content">
    <nav className="menu-nav">
      <ul className="menu-links">
        {navLinks.map((link) => (
            <li key={link.path}>
              <a
                  href={link.path}
                  className="menu-link"
                  onClick={(e) => handleLinkClick(e, link.path)}
              >
                <span className="menu-link-text">{link.label}</span>
                <div className="menu-link-underline"></div>
              </a>
            </li>
        ))}
      </ul>
    </nav>

    <div className="menu-images">
      <div className="image-column column-1" style={{transform: leftColumnTransform}}>
        <div className="menu-image">
          <img src={images[0]} alt=""/>
        </div>
        <div className="menu-image">
          <img src={images[2]} alt=""/>
        </div>
      </div>
      <div className="image-column column-2" style={{transform: rightColumnTransform}}>
        <div className="menu-image">
          <img src={images[1]} alt=""/>
        </div>
        <div className="menu-image">
          <img src={images[3]} alt=""/>
        </div>
      </div>
    </div>
  </div>
</div>
)
  ;
}
